---
layout: post
title: " Getting full string stack trace including inner exception"
comments: true
---
<p><span style="font-size: small;">public static String joinStackTrace(Throwable e) {</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;StringWriter writer = null;</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;try {</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;writer = new StringWriter();</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;joinStackTrace(e, writer);</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return writer.toString();</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;} finally {</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if (writer != null)</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;try {</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;writer.close();</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;} catch (IOException e1) {</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// ignore</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;}</span><br /><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;public static void joinStackTrace(Throwable e, StringWriter writer) {</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;PrintWriter printer = null;</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;try {</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printer = new PrintWriter(writer);</span><br /><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;while (e != null) {</span><br /><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printer.println(e);</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;StackTraceElement[] trace = e.getStackTrace();</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for (int i = 0; i &lt; trace.length; i++)</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printer.println("\tat " + trace[i]);</span><br /><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;e = e.getCause();</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if (e != null)</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printer.println("Caused by:\r\n");</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;} finally {</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if (printer != null)</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printer.close();</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</span><br /><span style="font-size: small;">&nbsp;&nbsp; &nbsp;}</span></p>
