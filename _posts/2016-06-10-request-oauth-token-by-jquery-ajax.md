---
layout: post
title: "request oauth token by jquery ajax"
comments: true
---
<pre class="default prettyprint prettyprinted" style="margin: 0px 0px 1em; padding: 5px; border: 0px; font-size: 13px; width: auto; max-height: 600px; overflow: auto; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, sans-serif; color: #393318; word-wrap: normal;">&nbsp;</pre>
<pre class="brush: js;">            var atoken;
	    $.ajax({
			  url: "&lt;c:url value = '/api/oauth/token' /&gt;",
			  type: 'POST',
			  crossDomain: true,
		      async: false,
		      cache: false,
			  data: {
			    grant_type:'password',
			    username:'admin',
			    password:'admin'
			  },
			  success: function(token, status) {
				  //store.set('token', token);
				  atoken=token;
			  },
			  beforeSend: function (xhr) {
				 xhr.setRequestHeader ("Authorization", "Basic " + btoa("acme:acmesecret" ));
			  }

		});</pre>
